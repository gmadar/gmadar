<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>You should use Underscore.js</title>
  <meta name="description" content="I must admit, the first time i encountered Underscore.js i didn’t get it. All I saw is a bunch of functions. You want to use underscore.js, you might don’t k...">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/you-should-use-underscore-js/">
  <link rel="alternate" type="application/rss+xml" title="gmadar.com" href="/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">gmadar.com</a>
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
          
            
            
            <a class="page-link" href="/about/">About</a>
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">You should use Underscore.js</h1>
    <p class="post-meta">
      <time datetime="2013-07-31T13:32:32+03:00" itemprop="datePublished">
        
        Jul 31, 2013
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I must admit, the first time i encountered Underscore.js i didn’t get it. All I saw is a bunch of functions.
You want to use underscore.js, you might don’t know it yet but you do.</p>

<p>Underscore.js is exactly what it seems – it is bunch of functions. These collection of functions have one true goal – to make you put your attention on developing your logic and make some operations trivial. If you are familiar with jQuery, than you probably know the benefits of how it is simplifying the DOM manipulation, Underscore.js is similar to that in a manner that it is simplifying data manipulation in JavaScript.</p>

<p>Underscore give your JavaScript coding a turbo engine by giving you functions that let you sort and filter your data really easily.</p>

<p>The easiest way to understand Underscore.js is by an example:</p>

<p>Let’s say that you have a collection (an array of JavaScript objects of the same kind) of student grades and you want to give student id ‘15’ an extra 10 points.</p>

<p>In pure JavaScript it could look like this</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">counter</span><span class="p">,</span><span class="nx">length</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="nx">counter</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nx">length</span><span class="o">=</span><span class="nx">students</span><span class="p">.</span><span class="nx">length</span> <span class="p">;</span> <span class="nx">counter</span><span class="o">&lt;</span><span class="nx">length</span> <span class="p">;</span> <span class="o">++</span><span class="nx">counter</span><span class="p">){</span>
	<span class="k">if</span><span class="p">(</span> <span class="s1">'15'</span> <span class="o">==</span> <span class="nx">students</span><span class="p">[</span><span class="nx">counter</span><span class="p">].</span><span class="nx">id</span> <span class="p">){</span>
		<span class="nx">students</span><span class="p">[</span><span class="nx">counter</span><span class="p">].</span><span class="nx">grade</span> <span class="o">+=</span> <span class="mi">10</span><span class="p">;</span>
        <span class="c1">// you could use "break" here when you find the object</span>
        <span class="c1">// but you have to be aware that you should</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>In Underscore.js it will be much simpler:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">findWhere</span><span class="p">(</span> <span class="nx">students</span><span class="p">,</span> <span class="p">{</span> <span class="na">id</span> <span class="p">:</span> <span class="err">‘</span><span class="mi">15</span><span class="err">’</span> <span class="p">}</span> <span class="p">);</span>
<span class="k">if</span><span class="p">(</span> <span class="nx">student</span> <span class="p">)</span> <span class="nx">student</span><span class="p">.</span><span class="nx">grade</span> <span class="o">+=</span><span class="mi">10</span><span class="p">;</span></code></pre></figure>

<p>At first it looks a bit weird to use the ‘_’ as an object, but if you got used to the jquery ‘$’ you will get used to this one too.</p>

<p>The findWhere function will go over the collection and will return the first occurrence of the the student with an ‘id’ of ‘15’, this is really efficient because if you have 1,000,000 students – it does not have to go over all of them – as soon as it finds it – it will stop the search.</p>

<p>besides the performance boost and the fact that it was easier to write you can see that it is easier to read – that is an awesome bonus because six month from now when you want to add a cool feature to your code you can understand it better because it is more readable.</p>

<p>Another example is to create a function that returns how many students got a grade that is higher than 85:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">higherThan85</span><span class="p">(</span><span class="nx">students</span><span class="p">){</span>
 <span class="kd">var</span> <span class="nx">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">student</span><span class="p">;</span>
 <span class="k">for</span><span class="p">(</span> <span class="nx">student</span> <span class="k">in</span> <span class="nx">students</span> <span class="p">){</span>
  <span class="k">if</span><span class="p">(</span> <span class="mi">85</span> <span class="o">&lt;</span> <span class="nx">students</span><span class="p">[</span><span class="nx">student</span><span class="p">].</span><span class="nx">grade</span><span class="p">)</span> <span class="o">++</span><span class="nx">number</span><span class="p">;</span>
 <span class="p">}</span>
 <span class="k">return</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>And the Underscore.js version:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">higherThan85</span><span class="p">(</span><span class="nx">students</span><span class="p">){</span>
 <span class="kd">var</span> <span class="nx">filtered</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">students</span> <span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">){</span>
	<span class="k">return</span> <span class="p">(</span><span class="mi">85</span> <span class="o">&lt;</span> <span class="nx">el</span><span class="p">.</span><span class="nx">grade</span><span class="p">);</span>
 <span class="p">});</span>
 <span class="k">return</span> <span class="nx">filtered</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>the function that is passed as a second parameter to the filter function is the actual filter function, that mean that each object that will return true from that function will be added to the filtered collection – in our case each object that has a grade that is higher than 85 will be in the filtered array collection.</p>

<p>We could use some other function called <em>countBy</em> to get a similar (yet different) solution:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">resultObj</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">countBy</span><span class="p">(</span> <span class="nx">students</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span> 
 <span class="k">return</span> <span class="p">(</span><span class="mi">85</span> <span class="o">&lt;</span> <span class="nx">el</span><span class="p">.</span><span class="nx">grade</span><span class="p">)</span> <span class="err">‘</span><span class="nx">higherThan85</span><span class="err">’</span> <span class="err">:</span> <span class="err">‘</span><span class="nx">smallerThan86</span><span class="err">’</span><span class="p">;</span>
<span class="p">});</span> 
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">resultObj</span><span class="p">.</span><span class="nx">higherThan85</span> <span class="p">);</span> <span class="c1">//will log the number of students higher than 85</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">resultObj</span><span class="p">.</span><span class="nx">smallerThan86</span> <span class="p">);</span> <span class="c1">//will log the number of students smaller than 86</span></code></pre></figure>

<p>As you can see – complex logic can become really easy with the power of Underscore.js functions – and I showed only a few of the more simple ones. You can use complex operations like ‘map’ and ‘reduce’. Reduce function could be used for summing operations over objects, for example:</p>

<p>Let’s say that we have a collection of family, and each object in the family have an income. We want to calculate the total income of the family members. So, that’s easy with reduce:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">family</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">sum</span><span class="p">){</span><span class="k">return</span> <span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">income</span> <span class="o">+</span><span class="nx">sum</span><span class="p">);},</span> <span class="mi">0</span><span class="p">);</span></code></pre></figure>

<p>That’s it! If you wonder what is the third argument, it is the initialization of the sum var – but it can be practically anything.</p>

<p>Underscore has a lot more functions to handle objects and object collections – you can find out all the function reference API on <a href="http://underscorejs.org/">Underscore.js website</a>.</p>

<p>Underscore.js have more features except from from the previous functionality, it has a built in templating function, a simple one, but that is where it is powerful – it is also simple to use…</p>

<p>All Underscore functions are chane-able,  Another characteristic similar to jQuery.</p>

<p>Extending Underscore.js to your own use case:</p>

<p>It is very easy to extend Underscore.js and built on top of it – just use the mixin function to do that:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">_</span><span class="p">.</span><span class="nx">mixin</span><span class="p">({</span>
  <span class="na">capitalize</span> <span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">string</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nx">_</span><span class="p">(</span><span class="s2">"fabio"</span><span class="p">).</span><span class="nx">capitalize</span><span class="p">();</span>
<span class="c1">//=&gt; "Fabio"</span></code></pre></figure>

<p>That example show a simple way to extend Underscore function base to your own, in this case we created a new function called capitalize which capitalize the first letter of the string and turning to lower case any other character.</p>

<p>Please note that in addition to all of the above Underscore also has a section on functions – this section can help you bind function and other helpful development workflow like ensuring a function could get called only once, delayed, run only after called X times and much more.</p>

<p>I want to end this post here, not because I don’t have anything else to add about Undescore functionality – it has a lot more power, that you can discover for yourself in the <a href="http://underscorejs.org/">project website</a>. I encourage you to do so! go ahead and play around</p>


  </div>

  
</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">gmadar.com</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              gmadar.com
            
            </li>
            
            <li><a href="mailto:gmadar@gmail.com">gmadar@gmail.com</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/gmadar"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">gmadar</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/gmadar"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">gmadar</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
